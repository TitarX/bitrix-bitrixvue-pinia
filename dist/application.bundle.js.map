{"version":3,"file":"application.bundle.js","sources":["../src/stores/status.js","../src/stores/counter.js","../src/components/application.js","../src/demo.js"],"sourcesContent":["import { defineStore } from \"ui.vue3.pinia\";\n\nexport const statusStore = defineStore('status', {\n    state: () => ({\n        lastAction: 'None'\n    }),\n    actions: {\n        setAction(action) {\n            this.lastAction = action.toString();\n        },\n    },\n});","import { defineStore } from \"ui.vue3.pinia\";\nimport { statusStore } from \"./status\";\n\nexport const counterStore = defineStore('counter', {\n    state: () => ({\n        counter: 0\n    }),\n    getters: {\n        double() {\n            return this.counter * 2;\n        },\n    },\n    actions: {\n        increaseCounter() {\n            this.counter++;\n            statusStore().setAction('Plus');\n        },\n        decreaseCounter() {\n            this.counter--;\n            statusStore().setAction('Minus');\n        },\n        resetCounter() {\n            this.counter = 0;\n            statusStore.setAction('Reset');\n        }\n    },\n});\n","import \"./application.css\";\nimport { mapState, mapActions } from \"ui.vue3.pinia\";\nimport { counterStore } from \"../stores/counter\";\nimport { statusStore } from \"../stores/status\";\n\nexport const Application =\n{\n    computed: {\n        ...mapState(counterStore, ['counter', 'double']),\n        lastAction: () => statusStore().lastAction,\n    },\n    methods: {\n        ...mapActions(counterStore, ['increaseCounter', 'decreaseCounter', 'resetCounter']),\n    },\n    // language=Vue\n    template: `\n        <div class=\"demo-header\">{{$Bitrix.Loc.getMessage('DEMO_PINIA_TITLE')}}</div>\n        <div>\n            <div>{{ $Bitrix.Loc.getMessage('DEMO_PINIA_COUNTER', {'#COUNTER#': this.counter, '#DOUBLE#': this.double}) }}</div> \n            <div>{{ $Bitrix.Loc.getMessage('DEMO_PINIA_LAST_ACTION', {'#COUNTER#': this.lastAction}) }}</div> \n            <div>\n                <button @click=\"increaseCounter\">+</button>\n                <button @click=\"decreaseCounter\">-</button>\n            </div>\n        </div>\n    `\n};\n","/**\n * Pinia demo\n *\n * @package pinia\n * @subpackage local\n * @copyright 2001-2022 Bitrix\n */\n\nimport { BitrixVue } from 'ui.vue3';\nimport { Application } from './components/application';\nimport { createPinia, setActivePinia } from 'ui.vue3.pinia';\nimport { counterStore } from './stores/counter';\n\nexport class PiniaDemo {\n\n    #store;\n    #rootNode\n    #application;\n\n    constructor(rootNode): void {\n        this.#store = createPinia();\n        this.#rootNode = document.querySelector(rootNode);\n    }\n\n    start(): void {\n        this.#application = BitrixVue.createApp({\n            name: 'Pinia Application',\n            components: {\n                Application\n            },\n            template: '<Application/>'\n        })\n        this.#application.use(this.#store);\n        this.#application.mount(this.#rootNode);\n    }\n\n    initStorageBeforeStartApplication(): void {\n        setActivePinia(this.#store);\n    }\n\n    getCounterStore(): Object {\n        return counterStore;\n    }\n}"],"names":["statusStore","defineStore","state","lastAction","actions","setAction","action","toString","counterStore","counter","getters","increaseCounter","decreaseCounter","resetCounter","Application","computed","mapState","methods","mapActions","template","PiniaDemo","rootNode","createPinia","document","querySelector","BitrixVue","createApp","name","components","use","mount","setActivePinia"],"mappings":";;;IAEO,IAAMA,WAAW,GAAGC,yBAAW,CAAC,QAAD,EAAW;MAC7CC,KAAK,EAAE;QAAA,OAAO;UACVC,UAAU,EAAE;SADT;OADsC;MAI7CC,OAAO,EAAE;QACLC,SADK,qBACKC,MADL,EACa;UACd,KAAKH,UAAL,GAAkBG,MAAM,CAACC,QAAP,EAAlB;;;IANqC,CAAX,CAA/B;;ICCA,IAAMC,YAAY,GAAGP,yBAAW,CAAC,SAAD,EAAY;MAC/CC,KAAK,EAAE;QAAA,OAAO;UACVO,OAAO,EAAE;SADN;OADwC;MAI/CC,OAAO,EAAE;QAAA,4BACI;UACL,OAAO,KAAKD,OAAL,GAAe,CAAtB;;OANuC;MAS/CL,OAAO,EAAE;QACLO,eADK,6BACa;UACd,KAAKF,OAAL;UACAT,WAAW,GAAGK,SAAd,CAAwB,MAAxB;SAHC;QAKLO,eALK,6BAKa;UACd,KAAKH,OAAL;UACAT,WAAW,GAAGK,SAAd,CAAwB,OAAxB;SAPC;QASLQ,YATK,0BASU;UACX,KAAKJ,OAAL,GAAe,CAAf;UACAT,WAAW,CAACK,SAAZ,CAAsB,OAAtB;;;IApBuC,CAAZ,CAAhC;;;;;ICEA,IAAMS,WAAW,GACxB;MACIC,QAAQ,kCACDC,sBAAQ,CAACR,YAAD,EAAe,CAAC,SAAD,EAAY,QAAZ,CAAf,CADP;QAEJL,UAAU,EAAE;UAAA,OAAMH,WAAW,GAAGG,UAApB;;QAHpB;MAKIc,OAAO,oBACAC,wBAAU,CAACV,YAAD,EAAe,CAAC,iBAAD,EAAoB,iBAApB,EAAuC,cAAvC,CAAf,CADV,CALX;;MASIW,QAAQ;IATZ,CADO;;;;;;;;;;;;ACQP,QAAaC,SAAb;MAMI,mBAAYC,QAAZ,EAA4B;QAAA;;QAAA;UAAA;UAAA;;;QAAA;UAAA;UAAA;;;QAAA;UAAA;UAAA;;;QACxB,gDAAcC,yBAAW,EAAzB;QACA,mDAAiBC,QAAQ,CAACC,aAAT,CAAuBH,QAAvB,CAAjB;;;MARR;QAAA;QAAA,wBAWkB;UACV,sDAAoBI,iBAAS,CAACC,SAAV,CAAoB;YACpCC,IAAI,EAAE,mBAD8B;YAEpCC,UAAU,EAAE;cACRd,WAAW,EAAXA;aAHgC;YAKpCK,QAAQ,EAAE;WALM,CAApB;UAOA,sDAAkBU,GAAlB,mCAAsB,IAAtB;UACA,sDAAkBC,KAAlB,mCAAwB,IAAxB;;;QApBR;QAAA,oDAuB8C;UACtCC,4BAAc,mCAAC,IAAD,UAAd;;;QAxBR;QAAA,kCA2B8B;UACtB,OAAOvB,YAAP;;;MA5BR;IAAA;;;;;;;;"}