{"version":3,"file":"application.bundle.js","sources":["../src/stores/status.js","../src/stores/counter.js","../src/components/application.js","../src/demo.js"],"sourcesContent":["import {defineStore} from \"ui.vue3.pinia\";\n\nexport const statusStore = defineStore('status', {\n\tstate: () => ({\n\t\tlastAction: 'None'\n\t}),\n\tactions: {\n\t\tsetAction(action)\n\t\t{\n\t\t\tthis.lastAction = action.toString();\n\t\t},\n\t},\n});","import { defineStore } from \"ui.vue3.pinia\";\nimport { statusStore } from \"./status\";\n\nexport const counterStore = defineStore('counter', {\n\tstate: () => ({\n\t\tcounter: 0\n\t}),\n\tgetters: {\n\t\tdouble()\n\t\t{\n\t\t\treturn this.counter * 2;\n\t\t},\n\t},\n\tactions: {\n\t\tincreaseCounter()\n\t\t{\n\t\t\tthis.counter++;\n\t\t\tstatusStore().setAction('Plus');\n\t\t},\n\t\tdecreaseCounter()\n\t\t{\n\t\t\tthis.counter--;\n\t\t\tstatusStore().setAction('Minus');\n\t\t},\n        resetCounter()\n        {\n            this.counter = 0;\n            statusStore.setAction('Reset');\n        }\n\t},\n});\n","import \"./application.css\";\nimport { mapState, mapActions } from \"ui.vue3.pinia\";\nimport { counterStore } from \"../stores/counter\";\nimport { statusStore } from \"../stores/status\";\n\nexport const Application =\n{\n\tcomputed: {\n\t\t...mapState(counterStore, ['counter', 'double']),\n\t\tlastAction: () => statusStore().lastAction,\n\t},\n\tmethods:{\n\t\t...mapActions(counterStore, ['increaseCounter', 'decreaseCounter', 'resetCounter']),\n\t},\n\t// language=Vue\n\ttemplate: `\n\t\t<div class=\"demo-header\">{{$Bitrix.Loc.getMessage('DEMO_PINIA_TITLE')}}</div>\n\t\t<div>\n\t\t\t<div>{{ $Bitrix.Loc.getMessage('DEMO_PINIA_COUNTER', {'#COUNTER#': this.counter, '#DOUBLE#': this.double}) }}</div> \n\t\t\t<div>{{ $Bitrix.Loc.getMessage('DEMO_PINIA_LAST_ACTION', {'#COUNTER#': this.lastAction}) }}</div> \n\t\t\t<div>\n\t\t\t\t<button @click=\"increaseCounter\">+</button>\n\t\t\t\t<button @click=\"decreaseCounter\">-</button>\n\t\t\t</div>\n\t\t</div>\n\t`\n};","/**\n * Pinia demo\n *\n * @package pinia\n * @subpackage local\n * @copyright 2001-2022 Bitrix\n */\n\nimport { BitrixVue } from 'ui.vue3';\nimport { Application } from './components/application';\nimport { createPinia, setActivePinia } from 'ui.vue3.pinia';\nimport { counterStore } from './stores/counter';\n\nexport class PiniaDemo\n{\n\n\t#store;\n\t#rootNode\n\t#application;\n\n\tconstructor(rootNode): void\n\t{\n\t\tthis.#store = createPinia();\n\t\tthis.#rootNode = document.querySelector(rootNode);\n\t}\n\n\tstart(): void\n\t{\n\t\tthis.#application = BitrixVue.createApp({\n\t\t\tname: 'Pinia Application',\n\t\t\tcomponents: {\n\t\t\t\tApplication\n\t\t\t},\n\t\t\ttemplate: '<Application/>'\n\t\t})\n\t\tthis.#application.use(this.#store);\n\t\tthis.#application.mount(this.#rootNode);\n\t}\n\n\tinitStorageBeforeStartApplication(): void\n\t{\n\t\tsetActivePinia(this.#store);\n\t}\n\n\tgetCounterStore(): Object\n\t{\n\t\treturn counterStore;\n\t}\n}"],"names":["statusStore","defineStore","state","lastAction","actions","setAction","action","toString","counterStore","counter","getters","increaseCounter","decreaseCounter","resetCounter","Application","computed","mapState","methods","mapActions","template","PiniaDemo","rootNode","createPinia","document","querySelector","BitrixVue","createApp","name","components","use","mount","setActivePinia"],"mappings":";;;IAEO,IAAMA,WAAW,GAAGC,yBAAW,CAAC,QAAD,EAAW;MAChDC,KAAK,EAAE;QAAA,OAAO;UACbC,UAAU,EAAE;SADN;OADyC;MAIhDC,OAAO,EAAE;QACRC,SADQ,qBACEC,MADF,EAER;UACC,KAAKH,UAAL,GAAkBG,MAAM,CAACC,QAAP,EAAlB;;;IAP8C,CAAX,CAA/B;;ICCA,IAAMC,YAAY,GAAGP,yBAAW,CAAC,SAAD,EAAY;MAClDC,KAAK,EAAE;QAAA,OAAO;UACbO,OAAO,EAAE;SADH;OAD2C;MAIlDC,OAAO,EAAE;QAAA,4BAER;UACC,OAAO,KAAKD,OAAL,GAAe,CAAtB;;OAPgD;MAUlDL,OAAO,EAAE;QACRO,eADQ,6BAER;UACC,KAAKF,OAAL;UACAT,WAAW,GAAGK,SAAd,CAAwB,MAAxB;SAJO;QAMRO,eANQ,6BAOR;UACC,KAAKH,OAAL;UACAT,WAAW,GAAGK,SAAd,CAAwB,OAAxB;SATO;QAWFQ,YAXE,0BAYF;UACI,KAAKJ,OAAL,GAAe,CAAf;UACAT,WAAW,CAACK,SAAZ,CAAsB,OAAtB;;;IAxBuC,CAAZ,CAAhC;;;;;ICEA,IAAMS,WAAW,GACxB;MACCC,QAAQ,kCACJC,sBAAQ,CAACR,YAAD,EAAe,CAAC,SAAD,EAAY,QAAZ,CAAf,CADJ;QAEPL,UAAU,EAAE;UAAA,OAAMH,WAAW,GAAGG,UAApB;;QAHd;MAKCc,OAAO,oBACHC,wBAAU,CAACV,YAAD,EAAe,CAAC,iBAAD,EAAoB,iBAApB,EAAuC,cAAvC,CAAf,CADP,CALR;;MASCW,QAAQ;IATT,CADO;;;;;;;;;;;;ACQP,QAAaC,SAAb;MAOC,mBAAYC,QAAZ,EACA;QAAA;;QAAA;UAAA;UAAA;;;QAAA;UAAA;UAAA;;;QAAA;UAAA;UAAA;;;QACC,gDAAcC,yBAAW,EAAzB;QACA,mDAAiBC,QAAQ,CAACC,aAAT,CAAuBH,QAAvB,CAAjB;;;MAVF;QAAA;QAAA,wBAcC;UACC,sDAAoBI,iBAAS,CAACC,SAAV,CAAoB;YACvCC,IAAI,EAAE,mBADiC;YAEvCC,UAAU,EAAE;cACXd,WAAW,EAAXA;aAHsC;YAKvCK,QAAQ,EAAE;WALS,CAApB;UAOA,sDAAkBU,GAAlB,mCAAsB,IAAtB;UACA,sDAAkBC,KAAlB,mCAAwB,IAAxB;;;QAvBF;QAAA,oDA2BC;UACCC,4BAAc,mCAAC,IAAD,UAAd;;;QA5BF;QAAA,kCAgCC;UACC,OAAOvB,YAAP;;;MAjCF;IAAA;;;;;;;;"}